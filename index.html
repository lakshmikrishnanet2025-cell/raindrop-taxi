<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Raindrop Taxi – Temple Tours & Cab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            margin: 0;
            font-family: 'Inter', sans-serif;
            background: #f8f8f8;
        }

        /* HERO SECTION */
        .hero {
            height: 420px;
            background-image: url("assets/temples/header.jpg");
            background-size: cover;
            background-position: center;
            position: relative;
        }

        .hero-overlay {
            position: absolute;
            top: 0; left: 0;
            height: 100%; width: 100%;
            background: rgba(0,0,0,0.45);
        }

        .hero-content {
            position: absolute;
            bottom: 40px;
            width: 100%;
            text-align: center;
        }

        .hero-buttons {
            display: flex;
            justify-content: center;
            gap: 12px;
        }

        .btn {
            padding: 14px 25px;
            border-radius: 30px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            font-size: 17px;
        }

        .btn-call {
            background: #e60000;
            color: white;
        }

        .btn-book {
            background: white;
            color: black;
        }


        /* BOOKING CARD */
        .booking-card {
            max-width: 900px;
            margin: -80px auto 25px auto;
            background: white;
            border-radius: 16px;
            padding: 22px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.12);
        }

        .tabs {
            display: flex;
            gap: 25px;
            font-size: 15px;
            font-weight: 600;
        }
        .tabs input {margin-right: 6px;}

        label {
            font-weight: 600;
            display: block;
            margin-top: 14px;
        }

        input, select {
            width: 100%;
            padding: 13px;
            border-radius: 10px;
            border: 1px solid #ccc;
            font-size: 15px;
        }

        .btn-submit {
            margin-top: 18px;
            background: #5ba607;
            color: white;
            font-size: 16px;
        }

    </style>
</head>
<body>

<!-- HERO -->
<div class="hero">
    <div class="hero-overlay"></div>

    <div class="hero-content">
        <h1 style="color:white;font-size:34px;">Raindrop Taxi</h1>
        <p style="color:white;font-size:16px;">Tamil Nadu Temple Tours & Cab Service</p>

        <div class="hero-buttons">
            <button class="btn btn-call" onclick="callDriver()">CALL NOW</button>
            <button class="btn btn-book" onclick="scrollToBooking()">BOOK NOW</button>
        </div>
    </div>
</div>

<!-- BOOKING CARD -->
<div class="booking-card" id="bookRide">
    <h2>Book Your Ride</h2>

    <div class="tabs">
        <label><input type="radio" name="trip" value="oneway" checked> One Way</label>
        <label><input type="radio" name="trip" value="round"> Round Trip</label>
    </div>

    <label>Pick Up Location</label>
    <input id="pickup" placeholder="Ex: Cuddalore">

    <label>Drop Off Location / Temple</label>
    <input id="drop" placeholder="Ex: Tiruvannamalai Temple">

    <label>Pick Up Date</label>
    <input type="date" id="date">

    <label>Vehicle Type</label>
    <select id="vehicle">
        <option value="sedan">Sedan (₹14/KM)</option>
        <option value="suv">SUV (₹19/KM)</option>
    </select>

    <label>Total KM</label>
    <input id="distance" readonly style="background:#eee">

    <label>Estimated Fare</label>
    <input id="fare" readonly style="background:#eee">

    <button class="btn btn-submit" onclick="calculateFare()">BOOK TAXI ➜</button>
    <button class="btn btn-submit" style="background:#25D366;" onclick="bookWhatsApp()">WhatsApp Booking</button>
    <button class="btn btn-call" onclick="callDriver()">Call Driver</button>
</div>

<script>
// Convert address to GPS
async function geo(address){
    let url = `https://nominatim.openstreetmap.org/search?format=json&q=${address}`;
    let res = await fetch(url);
    let data = await res.json();
    return [parseFloat(data[0].lat), parseFloat(data[0].lon)];
}

// Distance Formula
function hav(lat1,lon1,lat2,lon2){
    const R=6371;
    let dLat=(lat2-lat1)*Math.PI/180;
    let dLon=(lon2-lon1)*Math.PI/180;
    let a=
        Math.sin(dLat/2)**2+
        Math.cos(lat1*Math.PI/180)*
        Math.cos(lat2*Math.PI/180)*
        Math.sin(dLon/2)**2;
    return R*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)));
}

async function calculateFare(){
    let p = pickup.value;
    let d = drop.value;

    if(!p || !d){
        alert("Enter pickup & drop");
        return;
    }

    let start = await geo(p);
    let end   = await geo(d);

    let km = hav(start[0],start[1],end[0],end[1]) * 1.35;

    let type = vehicle.value;
    let rate = (type==="sedan") ? 14 : 19;
    let bata = 300;

    let total = km * rate + bata;

    distance.value = km.toFixed(1);
    fare.value = "₹ " + Math.round(total);
}

// WhatsApp
function bookWhatsApp(){
    let msg =
`*Raindrop Taxi Booking*
Pickup: ${pickup.value}
Drop: ${drop.value}
Vehicle: ${vehicle.value}
Distance: ${distance.value} KM
Fare: ${fare.value}`;

    window.open(`https://wa.me/919486576643?text=${encodeURIComponent(msg)}`);
}

// Call
function callDriver(){
    window.location.href = "tel:+919486576643";
}

// Scroll
function scrollToBooking(){
    document.getElementById("bookRide").scrollIntoView({behavior:"smooth"});
}
</script>

</body>
</html>

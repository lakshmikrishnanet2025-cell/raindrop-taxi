<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Verify OTP</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{
    background:#f5f5f5;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:Inter,sans-serif;
}
.card{
    width:350px;
    background:white;
    padding:25px;
    border-radius:16px;
    box-shadow:0 4px 14px rgba(0,0,0,0.15);
    text-align:center;
}
.logo{width:90px;margin-bottom:15px;}
input{
    width:100%;
    padding:12px;
    border-radius:10px;
    border:1px solid #ccc;
    margin-top:10px;
}
button{
    width:100%;
    padding:12px;
    margin-top:10px;
    border:none;
    background:black;
    color:white;
    border-radius:10px;
    cursor:pointer;
}
</style>
</head>

<body>

<div class="card">
    <img src="assets/logo.png" class="logo">

    <h2>Enter OTP</h2>

    <input id="otp" maxlength="6" placeholder="Enter OTP">

    <button onclick="verifyOTP()">Verify & Login</button>
</div>

<script>
function verifyOTP() {
    let otp = document.getElementById("otp").value.trim();
    let session_id = localStorage.getItem("session_id");

    if (otp.length !== 6) {
        alert("Enter 6 digit OTP");
        return;
    }

    let apiKey = "7633c95c-c6bb-11f0-a6b2-0200cd936042";

    fetch(`https://2factor.in/API/V1/${apiKey}/SMS/VERIFY/${session_id}/${otp}`)
    .then(r => r.json())
    .then(data => {
        if (data.Status === "Success") {
            localStorage.setItem("loggedIn", "yes");
            window.location.href = "index.html";
        } else {
            alert("Invalid OTP");
        }
    });
}
</script>

</body>
</html>
